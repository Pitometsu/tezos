# These are the commands one must use to bake things:

# To build and install the ledger:
cd obsidian-scripts/ledger
./build.sh
./install.sh # Make sure that you have proper permissions to access the device in /dev

# Go into the root directory of tezos repo
nix-shell -A sandbox --argstr max_peer_id 1 # make 1 higher for not testing ledger stuff
obsidian-scripts/jimmy-works.sh

# The script should perform clean-up at the beginning, but to clean up
# after, run:
killall tezos-client
killall tezos-node
rm -rf sandbox

# These are the commands the script uses to do this baking, in case you would
# rather use a different version of theworks than jimmy-works:

tezos-sandbox-client.sh import ledger secret key my-ledger ed25519
tezos-sandbox-client.sh transfer 3000000 from bootstrap5 to my-ledger
tezos-sandbox-client.sh set delegate for my-ledger to my-ledger
tezos-sandbox-client.sh launch daemon my-ledger -B -E -D

# To check balances:
tezos-sandbox-client.sh get balance for my_ledger
tezos-sandbox-client.sh get balance for bootstrap0
tezos-sandbox-client.sh get balance for bootstrap1
